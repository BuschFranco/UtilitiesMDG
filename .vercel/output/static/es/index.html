<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><title>Desarrollo de Landing Pages</title><link rel="stylesheet" href="/_astro/index.DdLUUU5o.css"></head> <body> <div class="parallax-bg"></div> <header class="header"> <div class="nav-controls"> <div class="language-selector" data-astro-cid-ltpqzwiw> <label for="language-select" class="language-label" data-astro-cid-ltpqzwiw>
🌐
</label> <select id="language-select" class="language-select" value="es" data-astro-cid-ltpqzwiw> <option value="en" data-astro-cid-ltpqzwiw> English </option><option value="es" selected data-astro-cid-ltpqzwiw> Español </option> </select> </div> <script type="module">const e=document.getElementById("language-select");e&&e.addEventListener("change",n=>{const a=n.target.value,t=window.location.pathname.replace(/^\/(en|es)/,"")||"/",c=`/${a}${t==="/"?"":t}`;window.location.href=c});</script>  </div> <div class="logo-container"> <a href="/" class="logo"> <img src="/MDGlogo.png" alt="Media Digital Group" class="logo-img"> </a> </div> </header> <main class="container">  <main data-astro-cid-ct3bgug4> <div class="container" data-astro-cid-ct3bgug4> <div class="header" data-astro-cid-ct3bgug4> <h1 class="animate-fade-in-delay" data-astro-cid-ct3bgug4>Desarrollo de Landing Pages</h1> <p class="subtitle animate-fade-in-delay-2" data-astro-cid-ct3bgug4>Genera una solicitud de desarrollo de landing page</p> </div> <div class="form-container animate-fade-in-delay-2" data-astro-cid-ct3bgug4> <div class="brief-form-container" data-astro-cid-43vibdms> <div class="card scroll-animate" data-astro-cid-43vibdms> <form id="briefForm" class="brief-form scroll-animate" data-astro-cid-43vibdms> <!-- Información del Formulario --> <div class="form-info-banner" data-astro-cid-43vibdms> <p class="form-info-text" data-astro-cid-43vibdms>
📋 <span data-astro-cid-43vibdms>Este formulario es necesario para generar el Dev ID para el desarrollo y almacenamiento de la landing page.</span> </p> </div> <!-- Información del Solicitante --> <section class="form-section scroll-animate no-counter" data-astro-cid-43vibdms> <h2 class="section-title no-counter" data-astro-cid-43vibdms>Información del Solicitante</h2> <div class="form-group" data-astro-cid-43vibdms> <label for="requester_name" class="form-label" data-astro-cid-43vibdms>Nombre del Solicitante:</label> <input type="text" id="requester_name" name="requester_name" class="form-input" placeholder="Ingrese su nombre completo" required data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="jira_task_url" class="form-label" data-astro-cid-43vibdms>URL de la Task de Jira (Generar una en caso de no tener):</label> <input type="url" id="jira_task_url" name="jira_task_url" class="form-input" placeholder="Ingrese la URL de la task de Jira" required data-astro-cid-43vibdms> </div> </section> <!-- 1. Maxi's Approval --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms> Aprobación de Maxi</h2> <!-- Información del proceso de aprobación --> <div class="approval-info-banner" data-astro-cid-43vibdms> <div class="approval-info-content" data-astro-cid-43vibdms> <h4 class="approval-info-title" data-astro-cid-43vibdms>📋 Aprobación inicial (Maxi)</h4> <ul class="approval-info-list" data-astro-cid-43vibdms> <li data-astro-cid-43vibdms>• Toda solicitud de landing pasa primero por Maxi.</li> <li data-astro-cid-43vibdms>• <strong>Rol de Maxi:</strong> decidir si la landing es viable considerando:</li> <ul class="approval-sub-list" data-astro-cid-43vibdms> <li data-astro-cid-43vibdms>○ Integraciones backend necesarias.</li> <li data-astro-cid-43vibdms>○ Funcionalidades solicitadas.</li> <li data-astro-cid-43vibdms>○ Recursos y prioridades.</li> </ul> <li data-astro-cid-43vibdms>👉 <strong>Solo con su OK se avanza.</strong></li> </ul> <div class="contact-maxi-section" data-astro-cid-43vibdms> <a href="mailto:maxi@mediadigitalgroup.com" target="_blank" class="contact-maxi-btn" data-astro-cid-43vibdms> <span class="contact-icon" data-astro-cid-43vibdms>📧</span> <span class="contact-text" data-astro-cid-43vibdms>Contactar con Maxi</span> </a> </div> </div> </div> <div class="form-group" data-astro-cid-43vibdms> <label class="form-label" data-astro-cid-43vibdms>Maxi: Luz verde para desarrollo:</label> <div class="radio-group" data-astro-cid-43vibdms> <label class="radio-option" data-astro-cid-43vibdms> <input type="radio" name="maxi_approval" value="yes" required class="radio-input" data-astro-cid-43vibdms> <span data-astro-cid-43vibdms>Sí</span> </label> <label class="radio-option" data-astro-cid-43vibdms> <input type="radio" name="maxi_approval" value="no" required class="radio-input" data-astro-cid-43vibdms> <span data-astro-cid-43vibdms>No</span> </label> </div> </div> </section> <!-- 2. Landing Information --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms>Información de la Landing</h2> <div class="form-group" data-astro-cid-43vibdms> <label for="product" class="form-label" data-astro-cid-43vibdms>Producto:</label> <input type="text" id="product" name="product" class="form-input" placeholder="Ej: Norton, Avast, MediaGames" required data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="flow_type" class="form-label" data-astro-cid-43vibdms>Selecciona el tipo de flujo:</label> <select id="flow_type" name="flow_type" class="form-select" required data-astro-cid-43vibdms> <option value="" data-astro-cid-43vibdms>Selecciona el tipo de flujo</option> <option value="one_click" data-astro-cid-43vibdms>ONE CLICK</option> <option value="msisdn_pin" data-astro-cid-43vibdms>MSISDN + PIN</option> <option value="he_pin" data-astro-cid-43vibdms>HE + PIN</option> <option value="he" data-astro-cid-43vibdms>HE</option> </select> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="country" class="form-label" data-astro-cid-43vibdms>País:</label> <input type="text" id="country" name="country" class="form-input" placeholder="ej., PL, AT, ID, ES, SN, KZ..." required data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="carriers" class="form-label" data-astro-cid-43vibdms>Operadoras:</label> <input type="text" id="carriers" name="carriers" class="form-input" placeholder="ej., Vodafone, Plus, T-Mobile..." required data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label class="form-label" data-astro-cid-43vibdms>Origen del Tráfico:</label> <input type="text" id="traffic_origin" name="traffic_origin" class="form-input" placeholder="ej., Afiliados, Google..." data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="plan_type" class="form-label" data-astro-cid-43vibdms>Tipo de Plan:</label> <input type="text" id="plan_type" name="plan_type" class="form-input" placeholder="Ej: DAILY, WEEKLY, MONTHLY" required data-astro-cid-43vibdms> </div> </section> <!-- 3. Content and Copies --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms> Contenido y Textos</h2> <div class="form-group" data-astro-cid-43vibdms> <label for="copies" class="form-label" data-astro-cid-43vibdms>Textos y Copys:</label> <textarea id="copies" name="copies" class="form-textarea" rows="6" placeholder="Describe los textos principales, títulos y contenido del copy..." required data-astro-cid-43vibdms></textarea> </div> <div class="form-group" data-astro-cid-43vibdms> <label class="form-label" data-astro-cid-43vibdms>Enlaces:</label> <div id="tc-links-container" data-astro-cid-43vibdms> <div class="tc-link-item" data-astro-cid-43vibdms> <div class="tc-link-row" data-astro-cid-43vibdms> <input type="url" name="tc_links[]" class="form-input tc-link-url" placeholder="https://ejemplo.com/terminos" data-astro-cid-43vibdms> <input type="text" name="tc_descriptions[]" class="form-input tc-link-description" placeholder="Describa el enlace" data-astro-cid-43vibdms> <button type="button" class="btn-add-tc" onclick="addTcLink()" data-astro-cid-43vibdms>+</button> </div> </div> </div> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="languages" class="form-label" data-astro-cid-43vibdms>Idiomas:</label> <input type="text" id="languages" name="languages" class="form-input" placeholder="ej., Inglés, Español, Francés..." data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="subscription_keywords" class="form-label" data-astro-cid-43vibdms>Keywords de Suscripción/Desuscripción:</label> <input type="text" id="subscription_keywords" name="subscription_keywords" class="form-input" placeholder="Ej: STOP to 9521, CLP to 9522" data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="price_text" class="form-label" data-astro-cid-43vibdms>Texto que contiene el precio/pricepoint:</label> <input type="text" id="price_text" name="price_text" class="form-input" placeholder="Ej: 1.5 EUR/Day (VAT Inclusive)" data-astro-cid-43vibdms> </div> </section> <!-- 4. Graphic Resources --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms> Recursos Gráficos</h2> <div class="form-info-note" data-astro-cid-43vibdms> <p class="info-note-text" data-astro-cid-43vibdms>
💡 <span data-astro-cid-43vibdms>Nota: Si no tienes los recursos gráficos necesarios para la landing, por favor contacta a Juli para obtener asistencia.</span> <a href="mailto:julieta@mediadigitalgroup.com" target="_blank" class="contact-juli-btn" data-astro-cid-43vibdms>📧 Contactar Juli</a> </p> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="banners" class="form-label" data-astro-cid-43vibdms>Banners:</label> <div class="file-upload-container" data-astro-cid-43vibdms> <input type="file" id="banners" name="banners" class="file-input" multiple accept="image/*" data-astro-cid-43vibdms> <label for="banners" class="file-upload-label" data-astro-cid-43vibdms> <span class="upload-icon" data-astro-cid-43vibdms>📁</span> <span class="upload-text" data-astro-cid-43vibdms>Seleccionar imágenes de banners</span> </label> <div class="file-list" id="banners-list" data-astro-cid-43vibdms></div> </div> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="images" class="form-label" data-astro-cid-43vibdms>Imágenes:</label> <div class="file-upload-container" data-astro-cid-43vibdms> <input type="file" id="images" name="images" class="file-input" multiple accept="image/*" data-astro-cid-43vibdms> <label for="images" class="file-upload-label" data-astro-cid-43vibdms> <span class="upload-icon" data-astro-cid-43vibdms>📁</span> <span class="upload-text" data-astro-cid-43vibdms>Seleccionar imágenes</span> </label> <div class="file-list" id="images-list" data-astro-cid-43vibdms></div> </div> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="logos" class="form-label" data-astro-cid-43vibdms>Logos:</label> <div class="file-upload-container" data-astro-cid-43vibdms> <input type="file" id="logos" name="logos" class="file-input" multiple accept="image/*" data-astro-cid-43vibdms> <label for="logos" class="file-upload-label" data-astro-cid-43vibdms> <span class="upload-icon" data-astro-cid-43vibdms>📁</span> <span class="upload-text" data-astro-cid-43vibdms>Seleccionar logos</span> </label> <div class="file-list" id="logos-list" data-astro-cid-43vibdms></div> </div> </div> </section> <!-- 5. Technical Functionalities --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms> Funcionalidades Técnicas</h2> <!-- Technology Type Selection --> <div class="form-group" data-astro-cid-43vibdms> <label for="technology_type" class="form-label" data-astro-cid-43vibdms>Tipo de Tecnología:</label> <div class="technology-selection" data-astro-cid-43vibdms> <select id="technology_type" name="technology_type" class="form-select" required data-astro-cid-43vibdms> <option value="" data-astro-cid-43vibdms>Selecciona el tipo de tecnología</option> <option value="new" data-astro-cid-43vibdms>Nueva Tecnología</option> <option value="old" data-astro-cid-43vibdms>Vieja Tecnología (mobi)</option> </select> <div id="tech-warning" class="tech-warning" style="display: none;" data-astro-cid-43vibdms> <span class="warning-text" data-astro-cid-43vibdms>⚠️ La tecnología vieja tiene un plazo de desarrollo más largo y puede estar condicionada a limitaciones visuales</span> </div> </div> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="special_functionalities" class="form-label" data-astro-cid-43vibdms>Funcionalidades Especiales:</label> <textarea id="special_functionalities" name="special_functionalities" class="form-textarea" rows="4" placeholder="Ej: Click en el botón al cliquear toda la landing, autoclick luego de 5 segundos, checkbox prefill, etc" data-astro-cid-43vibdms></textarea> </div> </section> <!-- 6. Colores --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms>Colores (Opcional)</h2> <div class="form-group" data-astro-cid-43vibdms> <label class="form-label" data-astro-cid-43vibdms>Colores (Opcional):</label> <div id="colors-container" data-astro-cid-43vibdms> <div class="color-item" data-astro-cid-43vibdms> <div class="color-row" data-astro-cid-43vibdms> <input type="color" name="colors[]" class="color-picker" value="#000000" data-astro-cid-43vibdms> <input type="text" name="color_descriptions[]" class="color-description" placeholder="Ej: Color principal, Color de botones, Color de fondo, etc." data-astro-cid-43vibdms> <button type="button" class="btn-add-color" onclick="addColor()" data-astro-cid-43vibdms>+</button> </div> </div> </div> </div> </section> <!-- 7. Referencias --> <section class="form-section scroll-animate" data-astro-cid-43vibdms> <h2 class="section-title" data-astro-cid-43vibdms>Referencias (Opcional)</h2> <div class="form-group" data-astro-cid-43vibdms> <label for="reference_url" class="form-label" data-astro-cid-43vibdms>URL de landing de referencia (Opcional):</label> <input type="url" id="reference_url" name="reference_url" class="form-input" placeholder="Ingrese la URL de referencia" data-astro-cid-43vibdms> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="reference_image" class="form-label" data-astro-cid-43vibdms>Imagen de landing de referencia (Opcional):</label> <div class="file-upload-container" data-astro-cid-43vibdms> <input type="file" id="reference_image" name="reference_image" class="file-input" accept="image/*" data-astro-cid-43vibdms> <label for="reference_image" class="file-upload-label" data-astro-cid-43vibdms> <span class="upload-icon" data-astro-cid-43vibdms>🖼️</span> <span class="upload-text" data-astro-cid-43vibdms>Seleccionar imagen de referencia</span> </label> <div class="file-list" id="reference-image-list" data-astro-cid-43vibdms></div> </div> </div> <div class="form-group" data-astro-cid-43vibdms> <label for="guidelines_document" class="form-label" data-astro-cid-43vibdms>Documento con guidelines (Opcional):</label> <div class="file-upload-container" data-astro-cid-43vibdms> <input type="file" id="guidelines_document" name="guidelines_document" class="file-input" accept=".pdf,.doc,.docx,.txt" data-astro-cid-43vibdms> <label for="guidelines_document" class="file-upload-label" data-astro-cid-43vibdms> <span class="upload-icon" data-astro-cid-43vibdms>📄</span> <span class="upload-text" data-astro-cid-43vibdms>Seleccionar documento</span> </label> <div class="file-list" id="guidelines-document-list" data-astro-cid-43vibdms></div> </div> </div> </section> <!-- Dev ID Information --> <div class="dev-id-info scroll-animate" data-astro-cid-43vibdms> <p class="dev-id-text" data-astro-cid-43vibdms>
💡 <span data-astro-cid-43vibdms>Al generar la solicitud se creará un documento con un Dev ID que deberás adjuntar a la misma tarea de Jira que introdujiste <a href="#jira_task_url" class="jira-link">arriba</a>.</span> </p> </div> <!-- Franco Notification --> <div class="franco-notification scroll-animate" data-astro-cid-43vibdms> <p class="franco-text" data-astro-cid-43vibdms>
📧 Esta información se enviará a Franco (franco@mediadigitalgroup.com) </p> </div> <!-- Submit Button --> <div class="form-actions scroll-animate" data-astro-cid-43vibdms> <button type="submit" class="btn btn-primary" id="submitBtn" data-astro-cid-43vibdms> <span id="submitText" data-astro-cid-43vibdms>Generar Solicitud</span> <span id="loadingSpinner" class="loading" style="display: none; margin-left: 0.5rem;" data-astro-cid-43vibdms></span> </button> </div> </form> <!-- Success/Error Messages --> <div id="alertContainer" style="display: none;" data-astro-cid-43vibdms></div> </div> </div>  <script type="module" src="/_astro/BriefForm.astro_astro_type_script_index_0_lang.aTjjCWRD.js"></script> <script>(function(){const t = {"title":"Desarrollo de Landing Pages","subtitle":"Genera una solicitud de desarrollo de landing page","languageSelector":"Idioma","maxiApproval":"Aprobación de Maxi","campaignInfo":"Información de la Campaña","landingInfo":"Información de la Landing","contentCopies":"Contenido y Textos","graphicResources":"Recursos Gráficos","technicalFunctionalities":"Funcionalidades Técnicas","applicantInfo":"Información del Solicitante","requesterInfo":"Información del Solicitante","references":"Referencias (Opcional)","colors":"Colores (Opcional)","formInfoBanner":"Este formulario es necesario para generar el Dev ID para el desarrollo y almacenamiento de la landing page.","product":"Producto","country":"País","carriers":"Operadoras","trafficOrigin":"Origen del Tráfico","copies":"Textos y Copys","tcLinks":"Enlaces de Términos y Condiciones","languages":"Idiomas","banners":"Banners","images":"Imágenes","logos":"Logos","flowType":"Tipo de Flujo","specialFunctionalities":"Funcionalidades Especiales","technologyType":"Tipo de Tecnología","newTechnology":"Nueva Tecnología","oldTechnology":"Vieja Tecnología (mobi)","oldTechWarning":"⚠️ La tecnología vieja tiene un plazo de desarrollo más largo y puede estar condicionada a limitaciones visuales","maxiApprovalTitle":"📋 Aprobación inicial (Maxi)","maxiApprovalInfo1":"• Toda solicitud de landing pasa primero por Maxi.","maxiApprovalInfo2":"• <strong>Rol de Maxi:</strong> decidir si la landing es viable considerando:","maxiApprovalSubInfo1":"○ Integraciones backend necesarias.","maxiApprovalSubInfo2":"○ Funcionalidades solicitadas.","maxiApprovalSubInfo3":"○ Recursos y prioridades.","maxiApprovalInfo3":"👉 <strong>Solo con su OK se avanza.</strong>","contactMaxi":"Contactar con Maxi","juliNote":"Nota: Si no tienes los recursos gráficos necesarios para la landing, por favor contacta a Juli para obtener asistencia.","contactJuli":"Contactar Juli","requesterName":"Nombre del Solicitante","jiraTaskUrl":"URL de la Task de Jira (Generar una en caso de no tener)","planType":"Tipo de Plan","links":"Enlaces","linkDescription":"Descripción del enlace","subscriptionKeywords":"Keywords de Suscripción/Desuscripción","priceText":"Texto que contiene el precio","selectBannerImages":"Seleccionar imágenes de banners","selectImages":"Seleccionar imágenes","selectLogos":"Seleccionar logos","referenceUrl":"URL de landing de referencia (Opcional)","referenceImage":"Imagen de landing de referencia (Opcional)","selectFlowType":"Selecciona el tipo de flujo","guidelinesDocument":"Documento con guidelines (Opcional)","selectReferenceImage":"Seleccionar imagen de referencia","selectDocument":"Seleccionar documento","colorValue":"Color","colorDescription":"Descripción del color","productPlaceholder":"Ej: Norton, Avast, MediaGames","countryPlaceholder":"ej., PL, AT, ID, ES, SN, KZ...","carriersPlaceholder":"ej., Vodafone, Plus, T-Mobile...","trafficOriginPlaceholder":"ej., Afiliados, Google...","copiesPlaceholder":"Describe los textos principales, títulos y contenido del copy...","tcLinksPlaceholder":"Incluye todos los enlaces de Términos y Condiciones y legales...","languagesPlaceholder":"ej., Inglés, Español, Francés...","bannersPlaceholder":"Describe los requisitos de banners, tamaños y especificaciones...","imagesPlaceholder":"Describe los requisitos de imágenes, fotos de producto, fondos...","logosPlaceholder":"Especifica los logos necesarios, guías de marca y uso...","flowTypePlaceholder":"Selecciona el tipo de flujo de conversión principal","specialFunctionalitiesPlaceholder":"Ej: Click en el botón al cliquear toda la landing, autoclick luego de 5 segundos, checkbox prefill, etc","requesterNamePlaceholder":"Ingrese su nombre completo","jiraTaskUrlPlaceholder":"Ingrese la URL de la task de Jira","linkDescriptionPlaceholder":"Describa el enlace","subscriptionKeywordsPlaceholder":"Ej: STOP to 9521, CLP to 9522","priceTextPlaceholder":"Ej: 1.5 EUR/Day (VAT Inclusive)","referenceUrlPlaceholder":"Ingrese la URL de referencia","colorDescriptionPlaceholder":"Ej: Color principal, Color de botones, Color de fondo, etc.","flowTypes":{"sms":"Suscripción SMS","pin":"Verificación PIN","redirect":"Redirección Directa","download":"Descarga de App","subscription":"Servicio de Suscripción"},"devIdInfo":"Al generar la solicitud se creará un documento con un Dev ID que deberás adjuntar a la misma tarea de Jira que introdujiste <a href=\"#jira_task_url\" class=\"jira-link\">arriba</a>.","francoNotification":"Esta información se enviará a Franco (franco@mediadigitalgroup.com)","generateBrief":"Generar Solicitud","generating":"Generando...","successMessage":"¡Solicitud generada exitosamente! Se descargará un PDF que deberás adjuntar al Jira Task","errorMessage":"Error al generar la solicitud. Por favor intenta de nuevo.","fillAllFields":"Por favor completa todos los campos requeridos.","emailSubject":"Nuevo Brief de Landing Page Generado"};
const currentLang = "es";

  // PDF Generation function
  async function generateAndDownloadPDF(briefData, devId) {
    try {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      
      // Set font
      doc.setFont('helvetica');
      
      // Title and DevID
      doc.setFontSize(20);
      doc.text(`LP Req: ${devId}-${briefData.country || 'N/A'}-${briefData.product || 'N/A'}`, 20, 30);
      
      doc.setFontSize(14);
      doc.text(`DevID: ${devId}`, 20, 45);
      doc.text(`${t.languageSelector}: ${currentLang.toUpperCase()}`, 20, 55);
      doc.text(`Generated: ${new Date().toLocaleString()}`, 20, 65);
      
      let yPosition = 80;
      const lineHeight = 10;
      const pageHeight = 280;
      
      // Helper function to add text with page break
      function addText(label, value, isMultiline = false) {
        if (yPosition > pageHeight) {
          doc.addPage();
          yPosition = 20;
        }
        
        // Convert value to string to avoid type errors
        const stringValue = String(value || 'N/A');
        
        doc.setFontSize(12);
        doc.setFont('helvetica', 'bold');
        doc.text(label + ':', 20, yPosition);
        
        doc.setFont('helvetica', 'normal');
        if (isMultiline && stringValue.includes('<br>')) {
          const lines = stringValue.replace(/<br>/g, '\n').split('\n');
          yPosition += lineHeight;
          lines.forEach(line => {
            if (yPosition > pageHeight) {
              doc.addPage();
              yPosition = 20;
            }
            doc.text(line.trim(), 25, yPosition);
            yPosition += lineHeight;
          });
        } else {
          const cleanValue = stringValue.replace(/<br>/g, ' ');
          const splitText = doc.splitTextToSize(cleanValue, 160);
          yPosition += lineHeight;
          splitText.forEach(line => {
            if (yPosition > pageHeight) {
              doc.addPage();
              yPosition = 20;
            }
            doc.text(line, 25, yPosition);
            yPosition += lineHeight;
          });
        }
        yPosition += 5;
      }
      
      // Add form data
      addText(t.requesterName, briefData.requester_name || 'N/A');
      addText(t.jiraTaskUrl, briefData.jira_task_url || 'N/A');
      addText(t.maxiApproval, briefData.maxi_approval || 'N/A');
      addText(t.country, briefData.country || 'N/A');
      addText(t.carriers, briefData.carriers || 'N/A');
      addText(t.product, briefData.product || 'N/A');
      addText(t.flowType, briefData.flow_type || 'N/A');
      addText(t.trafficOrigin, briefData.traffic_origin || 'N/A');
      addText('Plan Type', briefData.plan_type || 'N/A');
      addText(t.copies, briefData.copies || 'N/A', true);
      addText(t.tcLinks, briefData.tc_links || 'N/A');
      addText(t.languages, briefData.languages || 'N/A');
      addText('Subscription Keywords', briefData.subscription_keywords || 'N/A');
      addText('Price Text', briefData.price_text || 'N/A');
      addText(t.banners, briefData.banners || 'N/A', true);
      addText(t.images, briefData.images || 'N/A', true);
      addText(t.logos, briefData.logos || 'N/A', true);
      addText(t.technologyType, briefData.technology_type || 'N/A');
      addText(t.specialFunctionalities, briefData.special_functionalities || 'N/A', true);
      addText(t.colors, briefData.colors || 'N/A', true);
      addText('Reference URL', briefData.reference_url || 'N/A');
      addText('Reference Image', briefData.reference_image ? 'Uploaded' : 'N/A');
      addText('Guidelines Document', briefData.guidelines_document ? 'Uploaded' : 'N/A');
      
      // Save PDF
      const country = briefData.country || 'N-A';
      const product = briefData.product || 'N-A';
      const requesterName = briefData.requester_name || 'N-A';
      doc.save(`LP Req ${devId}-${country}-${product}-${requesterName}.pdf`);
      
    } catch (error) {
      console.error('Error generating PDF:', error);
      alert('Error generating PDF document');
    }
  }

  // T&C Links functionality - Global functions
  window.addTcLink = function() {
    const container = document.getElementById('tc-links-container');
    const newItem = document.createElement('div');
    newItem.className = 'tc-link-item';
    newItem.innerHTML = `
      <div class="tc-link-row">
        <input type="url" name="tc_links[]" class="form-input tc-link-url" placeholder="https://ejemplo.com/terminos">
        <input type="text" name="tc_descriptions[]" class="form-input tc-link-description" placeholder="Descripción del enlace">
        <button type="button" class="btn-remove-tc" onclick="removeTcLink(this)">Eliminar</button>
      </div>
    `;
    container.appendChild(newItem);
  }

  window.removeTcLink = function(button) {
    const item = button.closest('.tc-link-item');
    item.remove();
  }

  // Colors functionality - Global functions
  window.addColor = function() {
    const container = document.getElementById('colors-container');
    const newItem = document.createElement('div');
    newItem.className = 'color-item';
    newItem.innerHTML = `
      <div class="color-row">
        <input type="color" name="colors[]" class="color-picker" value="#000000">
        <input type="text" name="color_descriptions[]" class="color-description" placeholder="${t.colorDescriptionPlaceholder}">
        <button type="button" class="btn-remove-color" onclick="removeColor(this)">Eliminar</button>
      </div>
    `;
    container.appendChild(newItem);
  }

  window.removeColor = function(button) {
    const item = button.closest('.color-item');
    item.remove();
  }

  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('briefForm');
    const submitBtn = document.getElementById('submitBtn');
    const submitText = document.getElementById('submitText');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const alertContainer = document.getElementById('alertContainer');

    function showAlert(message, type) {
      alertContainer.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
      alertContainer.style.display = 'block';
      alertContainer.scrollIntoView({ behavior: 'smooth' });
    }

    function showSuccessWithDevId(message, devId) {
      alertContainer.innerHTML = `
        <div class="alert alert-success">
          <div class="success-message">${message}</div>
          <div class="dev-id-highlight">
            <strong>DevID: ${devId}</strong>
          </div>
        </div>
      `;
      alertContainer.style.display = 'block';
      alertContainer.scrollIntoView({ behavior: 'smooth' });
    }

    function setLoading(loading) {
      if (loading) {
        submitBtn.disabled = true;
        submitText.textContent = t.generating;
        loadingSpinner.style.display = 'inline-block';
      } else {
        submitBtn.disabled = false;
        submitText.textContent = t.generateBrief;
        loadingSpinner.style.display = 'none';
      }
    }

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      setLoading(true);
      alertContainer.style.display = 'none';

      try {
        const formData = new FormData(form);
        
        // Convert FormData to object
        const briefData = {};
        
        // Handle regular fields and files separately
        for (const [key, value] of formData.entries()) {
          if (value instanceof File) {
            // Handle file fields - store file names instead of File objects
            if (!briefData[key]) {
              briefData[key] = [];
            }
            if (Array.isArray(briefData[key])) {
              briefData[key].push(value.name);
            } else {
              briefData[key] = [briefData[key], value.name];
            }
          } else {
            // Handle array fields (like colors[], color_descriptions[], tc_links[], etc.)
            if (key.endsWith('[]')) {
              const cleanKey = key.replace('[]', '');
              if (!briefData[cleanKey]) {
                briefData[cleanKey] = [];
              }
              briefData[cleanKey].push(value);
            } else {
              briefData[key] = value;
            }
          }
        }
        
        // Convert file arrays to readable strings
        ['banners', 'images', 'logos'].forEach(field => {
          if (briefData[field] && Array.isArray(briefData[field]) && briefData[field].length > 0) {
            briefData[field] = briefData[field].join(', ');
          } else {
            briefData[field] = 'N/A';
          }
        });
        
        // Handle single file fields
        ['reference_image', 'guidelines_document'].forEach(field => {
          if (briefData[field] && Array.isArray(briefData[field])) {
            briefData[field] = briefData[field][0] || 'N/A';
          }
        });
        
        // Process colors data
        if (briefData.colors && briefData.color_descriptions) {
          const colorEntries = [];
          for (let i = 0; i < briefData.colors.length; i++) {
            if (briefData.colors[i] && briefData.color_descriptions[i]) {
              colorEntries.push(`${briefData.colors[i]} - ${briefData.color_descriptions[i]}`);
            }
          }
          briefData.colors_formatted = colorEntries.length > 0 ? colorEntries.join(', ') : 'N/A';
        } else {
          briefData.colors_formatted = 'N/A';
        }
        
        // Process TC links data
        if (briefData.tc_links && briefData.tc_descriptions) {
          const tcEntries = [];
          for (let i = 0; i < briefData.tc_links.length; i++) {
            if (briefData.tc_links[i] && briefData.tc_descriptions[i]) {
              tcEntries.push(`${briefData.tc_descriptions[i]}: ${briefData.tc_links[i]}`);
            }
          }
          briefData.tc_links_formatted = tcEntries.length > 0 ? tcEntries.join(', ') : 'N/A';
        } else {
          briefData.tc_links_formatted = 'N/A';
        }

        // Add language info
        briefData.language = currentLang;

        const response = await fetch(`/${currentLang}/api/send-brief`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(briefData)
        });

        const result = await response.json();

        if (response.ok) {
          showSuccessWithDevId(t.successMessage, result.devId);
          
          // Generate and download PDF
          await generateAndDownloadPDF(briefData, result.devId);
          
          form.reset();
        } else {
          showAlert(result.error || t.errorMessage, 'error');
        }
      } catch (error) {
        console.error('Error:', error);
        showAlert(t.errorMessage, 'error');
      } finally {
        setLoading(false);
      }
    });

    // File upload functionality
    function setupFileUpload(inputId, listId) {
      const fileInput = document.getElementById(inputId);
      const fileList = document.getElementById(listId);
      let selectedFiles = [];

      fileInput.addEventListener('change', function(e) {
        const newFiles = Array.from(e.target.files);
        selectedFiles = [...selectedFiles, ...newFiles];
        updateFileList();
        // Clear the input to allow selecting the same file again
        e.target.value = '';
      });

      function updateFileList() {
        fileList.innerHTML = '';
        selectedFiles.forEach((file, index) => {
          const fileItem = document.createElement('div');
          fileItem.className = 'file-item';
          
          const fileName = document.createElement('span');
          fileName.className = 'file-name';
          fileName.textContent = file.name;
          
          const fileSize = document.createElement('span');
          fileSize.className = 'file-size';
          fileSize.textContent = formatFileSize(file.size);
          
          const removeBtn = document.createElement('button');
          removeBtn.className = 'remove-file';
          removeBtn.innerHTML = '✕';
          removeBtn.type = 'button';
          removeBtn.addEventListener('click', () => {
            selectedFiles.splice(index, 1);
            updateFileList();
          });
          
          fileItem.appendChild(fileName);
          fileItem.appendChild(fileSize);
          fileItem.appendChild(removeBtn);
          fileList.appendChild(fileItem);
        });
        
        // Update the actual input files
        updateInputFiles();
      }

      function updateInputFiles() {
        const dt = new DataTransfer();
        selectedFiles.forEach(file => dt.items.add(file));
        fileInput.files = dt.files;
      }

      function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
      }
    }

    // Initialize file uploads
    setupFileUpload('banners', 'banners-list');
    setupFileUpload('images', 'images-list');
    setupFileUpload('logos', 'logos-list');
    setupFileUpload('reference_image', 'reference-image-list');
    setupFileUpload('guidelines_document', 'guidelines-document-list');

    // Jira link smooth scroll functionality
    document.addEventListener('click', function(e) {
      if (e.target.classList.contains('jira-link')) {
        e.preventDefault();
        const targetId = e.target.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'center'
          });
          // Add a subtle highlight effect
          targetElement.style.transition = 'box-shadow 0.3s ease';
          targetElement.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.3)';
          setTimeout(() => {
            targetElement.style.boxShadow = '';
          }, 2000);
        }
      }
    });

    // Technology type warning functionality
    const technologySelect = document.getElementById('technology_type');
    const techWarning = document.getElementById('tech-warning');
    
    if (technologySelect && techWarning) {
      technologySelect.addEventListener('change', function() {
        if (this.value === 'old') {
          techWarning.style.display = 'block';
        } else {
          techWarning.style.display = 'none';
        }
      });
    }
  });
})();</script> </div> </div> </main>  </main>  <script type="module">function r(){document.querySelectorAll(".scroll-reveal").forEach(t=>{const o=window.innerHeight;t.getBoundingClientRect().top<o-150&&t.classList.add("revealed")})}function s(){const t=window.pageYOffset*-.5;document.querySelector("body::before")&&document.body.style.setProperty("--scroll-offset",`${t}px`)}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".form-section, .card").forEach(t=>{t.classList.add("scroll-reveal")}),r()});window.addEventListener("scroll",()=>{r(),s()});const d={threshold:.1,rootMargin:"0px 0px -50px 0px"},i=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("animate-in")})},d);document.querySelectorAll(".scroll-animate").forEach(e=>{i.observe(e)});let c=0;const l=document.querySelector(".header");window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;e>c&&e>100?l?.classList.add("header-hidden"):l?.classList.remove("header-hidden"),c=e},!1);document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});const n=document.createElement("div");n.className="scroll-progress";document.body.appendChild(n);window.addEventListener("scroll",()=>{const e=document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,o=e/t*100;n.style.width=o+"%"});</script></body></html> 